<!DOCTYPE html>
<html xmlns:th="https://www.thymeleaf.org" 
xmlns:sec="https://www.thymeleaf.org/extras/spring-security"
th:replace="layout/layout :: layout(~{this::head}, ~{this::main})">
<head>
	<meta charset="UTF-8">
	<title>근태리스트</title>
	<link rel="stylesheet" href="/css/attendance/my-attendance.css">
</head>
<main>
	<!-- 230104 한아 작성 230111 안나 thymeleaf 수정 230117 안나 페이징 추가 / 휴가는 결재 완성되면 넣을 예정 -->
	<th:block th:insert="~{/layout/sideMenu :: header}" />
	<div class="wrap list-1">
		<section>
			<div class="flex center title">
				<p>내 근태 및 휴가</p>
			</div>
			<div class="flex att-btn">
				<button><span class="small-circle-selected"></span>근태</button>
				<button onclick="location.href = 'myWorkingDay'"><span class="small-circle"></span>근무</button>
				<button onclick="location.href = 'myDayOff'"><span class="small-circle"></span>휴가</button>
			</div>
			<div class="flex center back-list">
				<table class="list-table">
					<thead>
						<tr class="list-2">
							<th></th>
							<th>일자</th>
							<th>출근시간</th>
							<th>퇴근시간</th>
							<th>일근무시간</th>
							<th>지정근무시간</th>
							<th>근태항목</th>
							<th>휴가기간</th>
							<th>휴가일수</th>
							<th>적요</th>
						</tr>
					</thead>
					<tbody>
						<tr th:each="myAttList:${myAttList}">
							<td th:text="${myAttListStat.count}">4</td>
							<td th:text="${myAttList.date}">2023-01-09</td>
							<td th:text="${myAttList.clockIn}"></td>
							<td th:text="${myAttList.clockOut}"></td>
							<td th:text="${myAttList.workingHour}"></td>
							<td th:text="${myAttList.designatedWorkingHour}"></td>
							<td th:text="${myAttList.status}">휴가</td>
							<td>2023-01-09 ~ 2023-01-11</td>
							<td>3</td>
							<td>우수사원포상휴가</td>
						</tr>
					</tbody>
				</table>
			</div>
			<!-- 페이징 시작 230117 안나 작성-->
			<!-- pageNum : 현재 페이지 번호, pageSize : 한 페이지의 게시글 수, pageTotal : 총 페이지 수, endPage : 한 페이지당 몇 개까지 보여줄건지 -->
			<div th:if="${#lists.isEmpty(myAttList)}" style="text-align: center;">조회 결과가 없습니다.</div>
			<div th:if="${!#lists.isEmpty(myAttList)}">
				<ul th:with="start=${((pageNum-1)/endPage)*endPage+1}, end=${start + endPage - 1}" class="flex center">
					<!-- 시작 페이지가 1보다 클 경우 -->
					<li th:if="${start ne 1}">
						<a th:href="|/myAttendance?page=0|">&lt;&lt;</a>
					</li>
					<!-- 시작 페이지가 1보다 클 경우 -->
					<li th:if="${start ne 1}">
						<a th:href="|/myAttendance?page=${start-endPage}|">&lt;</a>
					</li>
					<!-- 마지막 페이지가 아닐 경우 -->
					<li th:if="${end lt pageTotal}" th:each="pageNo :${#numbers.sequence(start,end)}">
						<a th:href="|/myAttendance?page=${pageNo-1}|">[[${pageNo}]]</a>
					</li>
					<!-- 마지막 페이지일 경우 -->
					<li th:if="${end >= pageTotal}" th:each="pageNo :${#numbers.sequence(start,pageTotal)}">
						<a th:href="|/myAttendance?page=${pageNo-1}|">[[${pageNo}]]</a>
					</li>
					<!-- 마지막 페이지가 아닐 경우 -->
					<li th:if="${end lt pageTotal}">
						<a th:href="|/myAttendance?page=${start+endPage}|">&gt;</a>
					</li>
					<li th:if="${end lt pageTotal}">
						<a th:href="|/myAttendance?page=${pageTotal-1}|">&gt;&gt;</a>
					</li>
				</ul>
			</div>
			<!-- 페이징 끝-->
		</section>
	</div>
</main>
</html>